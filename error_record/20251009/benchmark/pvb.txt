 å®Œç¾ï¼ç°åœ¨æˆ‘ç»™ä½ è¯¦ç»†åˆ†æ privateBank/index.vue çš„é¡µé¢ç»“æ„å’ŒåŠŸèƒ½ï¼Œä»¥åŠå®ƒä¸ detail/index.vue çš„å…³ç³»ã€‚

  ---
  ğŸ“„ é¡µé¢ç»“æ„ä¸åŠŸèƒ½åˆ†æï¼šprivateBank/index.vue

  è¿™æ˜¯ä¸€ä¸ª Private Bankingï¼ˆç§äººé“¶è¡Œï¼‰Benchmark åˆ—è¡¨é¡µã€‚

  ---
  ä¸€ã€é¡µé¢å¸ƒå±€ç»“æ„ï¼ˆTemplateï¼‰

  æ•´ä½“ç»“æ„T --

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Benchmark Maintenance                          â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  [æœç´¢] [é‡ç½®]                      [å·¥å…·æ ]    â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  æ•°æ®è¡¨æ ¼ï¼ˆå¯æ’åºã€å¤šé€‰ï¼‰                        â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  åˆ†é¡µç»„ä»¶                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ---
  1. é¡µé¢æ ‡é¢˜ (Lines 3-6)

  <h2>Benchmark Maintenance</h2>

  ---
  2. æœç´¢åŒºåŸŸ (Lines 8-13)

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ [æœç´¢] [é‡ç½®]               â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  - æœç´¢æŒ‰é’®ï¼šæ ¹æ®æŸ¥è¯¢æ¡ä»¶é‡æ–°åŠ è½½æ•°æ®ï¼ˆpageNum é‡ç½®ä¸º 1ï¼‰
  - é‡ç½®æŒ‰é’®ï¼šæ¸…ç©ºæ‰€æœ‰æŸ¥è¯¢æ¡ä»¶ï¼Œæ¢å¤é»˜è®¤å€¼

  æ³¨æ„ï¼šç›®å‰æœç´¢æ¡†æ˜¯éšè—çš„ (v-show="showSearch"ï¼Œé»˜è®¤ false)

  ---
  3. æ•°æ®è¡¨æ ¼ (Lines 19-59)

  è¡¨æ ¼åˆ—ç»“æ„ï¼š

  | åˆ—å                 | å­—æ®µ              | åŠŸèƒ½      | ç‰¹æ®Šè¯´æ˜                        |
  |--------------------|-----------------|---------|-----------------------------|
  | â˜‘ï¸ å¤šé€‰æ¡†             | -               | æ‰¹é‡æ“ä½œ    | å®½åº¦ 55px                     |
  | businessId         | businessId      | ä¸šåŠ¡ID    | âš ï¸ ä»… privateBank æœ‰æ­¤åˆ—        |
  | type               | benchmarkType   | ç±»å‹æ ‡ç­¾    | å­—å…¸æ ‡ç­¾æ˜¾ç¤ºï¼ˆBENCHMARK/COMPOSITEï¼‰ |
  | Name               | name            | åç§°ï¼ˆè¶…é“¾æ¥ï¼‰ | ğŸ”— ç‚¹å‡»è·³è½¬è¯¦æƒ…é¡µ                  |
  | Status             | status          | çŠ¶æ€æ ‡ç­¾    | å­—å…¸æ ‡ç­¾æ˜¾ç¤ºï¼ˆå¾…å®¡æ‰¹/å®¡æ‰¹ä¸­/å·²é€šè¿‡ç­‰ï¼‰        |
  | Maker              | maker           | æäº¤äºº     | -                           |
  | Last Mod Date Time | makerDatetime   | æäº¤æ—¶é—´    | æ ¼å¼åŒ–æ˜¾ç¤º                       |
  | Checker            | checker         | å®¡æ ¸äºº     | -                           |
  | Last Mod Date Time | checkerDatetime | å®¡æ ¸æ—¶é—´    | æ ¼å¼åŒ–æ˜¾ç¤º                       |

  è¡¨æ ¼ç‰¹æ€§ï¼š
  - âœ… æ”¯æŒåˆ—æ’åºï¼ˆç‚¹å‡»åˆ—å¤´åˆ‡æ¢å‡åº/é™åºï¼‰
  - âœ… æ”¯æŒå¤šé€‰ï¼ˆé€šè¿‡å¤é€‰æ¡†ï¼‰
  - âœ… é»˜è®¤æŒ‰ name å‡åºæ’åˆ—

  ---
  4. åˆ†é¡µç»„ä»¶ (Lines 61-67)

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  å…± 100 æ¡  [< 1 2 3 4 5 >] â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  - æ˜¾ç¤ºæ€»æ•°
  - æ”¯æŒåˆ‡æ¢æ¯é¡µæ•°é‡
  - æ”¯æŒè·³è½¬åˆ°æŒ‡å®šé¡µ

  ---
  äºŒã€æ ¸å¿ƒåŠŸèƒ½é€»è¾‘ï¼ˆScriptï¼‰

  1. æ•°æ®åŠ è½½æµç¨‹

  é¡µé¢åˆå§‹åŒ– (getList)
      â†“
  è°ƒç”¨ BenchmarkApi.getBenchmarkPage(queryParams)
      â†“
  åç«¯è¿”å›æ•°æ®
      â†“
  benchmarkList.value = response.rows || response.list
  total.value = response.total

  æŸ¥è¯¢å‚æ•°ï¼š
  queryParams: {
    pageNum: 1,
    pageSize: 10,
    businessType: 1,  // âš ï¸ å…³é”®ï¼š1 = Private Banking
    orderByColumn: 'name',
    isAsc: 'asc',
    // å…¶ä»–ç­›é€‰æ¡ä»¶ï¼ˆç›®å‰éƒ½ä¸º nullï¼‰
  }

  ---
  2. æ ¸å¿ƒåŠŸèƒ½æ–¹æ³•

  A. æŸ¥çœ‹è¯¦æƒ… (handleViewDetail) - æ ¸å¿ƒé€»è¾‘ â­

  è¿™æ˜¯è¿æ¥åˆ—è¡¨é¡µå’Œè¯¦æƒ…é¡µçš„æ¡¥æ¢ï¼š

  // Lines 119-165
  const handleViewDetail = (row) => {
    // 1ï¸âƒ£ è°ƒç”¨ API æ£€æŸ¥æµç¨‹çŠ¶æ€
    BenchmarkApi.getProcessKey(row.processInstanceId)
      .then((response) => {
        // 2ï¸âƒ£ æ ¹æ®è¿”å›å€¼åˆ¤æ–­è·³è½¬ç›®æ ‡
        const path = response == null
          ? '/benchmark/detail'      // æ— æµç¨‹ â†’ è¯¦æƒ…é¡µ
          : '/bpm/approval';          // æœ‰æµç¨‹ â†’ å®¡æ‰¹é¡µ

        if (path === '/bpm/approval') {
          // 3ï¸âƒ£A: è·³è½¬åˆ°å®¡æ‰¹é¡µé¢ï¼ˆå¸¦æµç¨‹å‚æ•°ï¼‰
          router.push({
            path: '/bpm/approval',
            query: {
              id: response.processInstanceId,
              taskId: response.taskId,
              activityId: response.activityId,
              businessKey: row.id,
              businessType: 'benchmark',
              // ... ä¸šåŠ¡æ•°æ®
            }
          });
        } else {
          // 3ï¸âƒ£B: è·³è½¬åˆ°è¯¦æƒ…é¡µé¢ï¼ˆå¸¦ä¸šåŠ¡å‚æ•°ï¼‰
          router.push({
            path: '/benchmark/detail',
            query: {
              id: row.id,
              name: row.name,
              status: row.status,
              benchmarkType: row.benchmarkType,
              // ... å…¶ä»–å­—æ®µ
            }
          });
        }
      })
  }

  è·³è½¬é€»è¾‘å†³ç­–ï¼š
  ç‚¹å‡» Benchmark åç§°
      â†“
  è°ƒç”¨ getProcessKey(processInstanceId)
      â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â†“                           â†“
  response == null         response æœ‰å€¼
  (æ— å®¡æ‰¹æµç¨‹)             (æœ‰å®¡æ‰¹æµç¨‹)
      â†“                           â†“
  è·³è½¬åˆ° detail/index.vue    è·³è½¬åˆ° /bpm/approval
  (æŸ¥çœ‹/ç¼–è¾‘æ¨¡å¼)            (å®¡æ‰¹æ¨¡å¼)

  ---
  B. æœç´¢å’Œé‡ç½®

  // æœç´¢ï¼šé‡ç½®é¡µç åˆ°ç¬¬ä¸€é¡µ
  handleQuery() {
    queryParams.value.pageNum = 1
    getList()
  }

  // é‡ç½®ï¼šæ¢å¤æ‰€æœ‰æŸ¥è¯¢æ¡ä»¶ä¸ºé»˜è®¤å€¼
  resetQuery() {
    queryParams.value = {
      pageNum: 1,
      pageSize: 10,
      businessType: 1,  // ä¿æŒ Private Banking
      // ... å…¶ä»–å­—æ®µè®¾ä¸º null
    }
    handleQuery()
  }

  ---
  C. æ’åºå¤„ç†

  // ç‚¹å‡»è¡¨æ ¼åˆ—å¤´è§¦å‘
  handleSortChange(column) {
    queryParams.value.orderByColumn = column.prop  // æ’åºå­—æ®µ
    queryParams.value.isAsc = column.order === 'ascending' ? 'asc' : 'desc'
    getList()  // é‡æ–°åŠ è½½æ•°æ®
  }

  ---
  D. å¤šé€‰å¤„ç†

  // é€‰ä¸­è¡Œå˜åŒ–æ—¶è§¦å‘
  handleSelectionChange(selection) {
    ids.value = selection.map(item => item.id)  // è·å–é€‰ä¸­çš„ ID åˆ—è¡¨
    single.value = selection.length != 1        // æ˜¯å¦åªé€‰ä¸­ä¸€ä¸ª
    multiple.value = !selection.length          // æ˜¯å¦æ²¡æœ‰é€‰ä¸­
  }

  ç”¨é€”ï¼šä¸ºæ‰¹é‡æ“ä½œæŒ‰é’®æä¾›çŠ¶æ€ï¼ˆç›®å‰æœªå®ç°æ‰¹é‡æ“ä½œæŒ‰é’®ï¼‰

  ---
  ä¸‰ã€ä¸ detail/index.vue çš„å…³è”å…³ç³»

  é¡µé¢å…³ç³»å›¾

  privateBank/index.vue (åˆ—è¡¨é¡µ)
         â”‚
         â”‚ ç‚¹å‡» Name è¶…é“¾æ¥
         â”‚ handleViewDetail(row)
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                 â”‚                 â”‚
         â†“                 â†“                 â†“
     æ— å®¡æ‰¹æµç¨‹        æœ‰å®¡æ‰¹æµç¨‹        å…¶ä»–çŠ¶æ€
         â”‚                 â”‚
         â†“                 â†“
  detail/index.vue    /bpm/approval
    (æ™®é€šæ¨¡å¼)         (å®¡æ‰¹æ¨¡å¼)
         â”‚                 â”‚
         â”‚                 â””â”€ å¯èƒ½åµŒå…¥ detail/index.vue
         â”‚                    (isApprovalMode=true)
         â”‚
         â†“
    æŸ¥çœ‹/ç¼–è¾‘æƒé‡æ•°æ®
    é¥¼å›¾ + æ ‘å½¢ç»“æ„

  ---
  æ•°æ®æµè½¬

  åˆ—è¡¨é¡µ â†’ è¯¦æƒ…é¡µ

  // privateBank/index.vue ä¼ é€’çš„å‚æ•°
  router.push({
    path: '/benchmark/detail',
    query: {
      id: row.id,                    // ä¸šåŠ¡ID
      name: row.name,                // Benchmark åç§°
      status: row.status,            // çŠ¶æ€
      benchmarkType: row.benchmarkType,  // ç±»å‹
      maker: row.maker,              // æäº¤äºº
      makerDatetime: row.makerDatetime,  // æäº¤æ—¶é—´
      checker: row.checker,          // å®¡æ ¸äºº
      checkerDatetime: row.checkerDatetime  // å®¡æ ¸æ—¶é—´
    }
  })

  è¯¦æƒ…é¡µæ¥æ”¶å‚æ•°

  // detail/index.vue ä¸­è·å–å‚æ•°
  const routeParams = route.query
  benchmarkId.value = routeParams.id
  benchmarkName.value = routeParams.name
  status.value = Number(routeParams.status)
  // ...

  ---
  å…³è”å…³ç³»æ€»ç»“

  | æ–¹é¢   | privateBank/index.vue          | detail/index.vue        |
  |------|--------------------------------|-------------------------|
  | é¡µé¢ç±»å‹ | åˆ—è¡¨é¡µï¼ˆCRUD-Listï¼‰                 | è¯¦æƒ…é¡µï¼ˆCRUD-Detailï¼‰        |
  | ä¸»è¦åŠŸèƒ½ | å±•ç¤ºæ‰€æœ‰ Private Banking Benchmark | æŸ¥çœ‹/ç¼–è¾‘å•ä¸ª Benchmark çš„æƒé‡æ•°æ® |
  | æ•°æ®åŠ è½½ | åˆ†é¡µæŸ¥è¯¢ï¼ˆå¤šæ¡è®°å½•ï¼‰                     | å•æ¡æŸ¥è¯¢ï¼ˆé€šè¿‡ IDï¼‰             |
  | äº¤äº’æ–¹å¼ | ç‚¹å‡»åç§°è·³è½¬                         | ç¼–è¾‘æƒé‡ã€å¯¼å‡ºã€è¿”å›              |
  | è·³è½¬æ–¹å‘ | åˆ—è¡¨ â†’ è¯¦æƒ…                        | è¯¦æƒ… â†’ åˆ—è¡¨ï¼ˆgoBackï¼‰         |
  | å‚æ•°ä¼ é€’ | é€šè¿‡ router.push(query)          | é€šè¿‡ route.query æ¥æ”¶       |

  ---
  å››ã€privateBank vs retailBank çš„åŒºåˆ«

  ä¸¤ä¸ªåˆ—è¡¨é¡µå‡ ä¹å®Œå…¨ç›¸åŒï¼Œåªæœ‰ä¸¤å¤„å·®å¼‚ï¼š

  | å·®å¼‚ç‚¹          | privateBank/index.vue | retailBank/index.vue |
  |--------------|-----------------------|----------------------|
  | businessType | 1 (Private Banking)   | 2 (Retail Banking)   |
  | è¡¨æ ¼åˆ—          | æœ‰ businessId åˆ—        | æ—  businessId åˆ—       |

  ä»£ç å¯¹æ¯”ï¼š
  // privateBank: Line 175
  businessType: 1,  // Private Banking

  // retailBank: Line 174
  businessType: 2,  // Retail Banking

  ---
  äº”ã€å®Œæ•´ä¸šåŠ¡æµç¨‹

  ç”¨æˆ·æ“ä½œè·¯å¾„

  1. ç”¨æˆ·è®¿é—® /benchmark/privateBank
     â†“
  2. é¡µé¢è‡ªåŠ¨åŠ è½½ Private Banking çš„ Benchmark åˆ—è¡¨
     â†“
  3. ç”¨æˆ·ç‚¹å‡»æŸä¸ª Benchmark çš„åç§°
     â†“
  4. ç³»ç»Ÿè°ƒç”¨ getProcessKey() æ£€æŸ¥å®¡æ‰¹æµç¨‹
     â†“
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â†“                           â†“
  æ— å®¡æ‰¹æµç¨‹                  æœ‰å®¡æ‰¹æµç¨‹
     â†“                           â†“
  è·³è½¬åˆ° detail/index.vue    è·³è½¬åˆ° /bpm/approval
     â†“                           â†“
  æŸ¥çœ‹æƒé‡åˆ†å¸ƒï¼ˆé¥¼å›¾+æ ‘ï¼‰     æŸ¥çœ‹å®¡æ‰¹è¯¦æƒ…
  å¯ç¼–è¾‘ï¼ˆæœ‰æƒé™æ—¶ï¼‰          åªè¯»æ¨¡å¼
     â†“
  ä¿å­˜ä¿®æ”¹ â†’ è°ƒç”¨ updateBenchmark API
     â†“
  è¿”å›åˆ—è¡¨é¡µ

  ---
  å…­ã€æŠ€æœ¯ç‰¹ç‚¹

  1. åŠ¨æ€è·¯ç”±å†³ç­–ï¼šæ ¹æ® processInstanceId å†³å®šè·³è½¬ç›®æ ‡ï¼ˆè¯¦æƒ…é¡µ vs å®¡æ‰¹é¡µï¼‰
  2. æŸ¥è¯¢æ¡ä»¶è¿‡æ»¤ï¼šé€šè¿‡ businessType åŒºåˆ†ä¸åŒä¸šåŠ¡ç±»å‹
  3. è¡¨æ ¼æ’åºï¼šæ”¯æŒå¤šåˆ—æ’åºï¼ˆorderByColumn + isAscï¼‰
  4. æ—¥æœŸæ ¼å¼åŒ–ï¼šè‡ªå®šä¹‰ parseTime å‡½æ•°å¤„ç†æ—¥æœŸæ˜¾ç¤º
  5. å­—å…¸æ ‡ç­¾ï¼šä½¿ç”¨ <dict-tag> ç»„ä»¶æ˜¾ç¤ºæšä¸¾å€¼ï¼ˆçŠ¶æ€ã€ç±»å‹ç­‰ï¼‰

  ---
  æ€»ç»“

  - privateBank/index.vueï¼šPrivate Banking Benchmark çš„åˆ—è¡¨ç®¡ç†é¡µé¢
  - detail/index.vueï¼šå•ä¸ª Benchmark çš„è¯¦ç»†ä¿¡æ¯å±•ç¤ºå’Œç¼–è¾‘é¡µé¢
  - å…³ç³»ï¼šå…¸å‹çš„ä¸»ä»å…³ç³»ï¼ˆMaster-Detailï¼‰ï¼Œåˆ—è¡¨é¡µæä¾›å¯¼èˆªï¼Œè¯¦æƒ…é¡µæä¾›è¯¦ç»†æ“ä½œ
  - æ ¸å¿ƒäº¤äº’ï¼šç‚¹å‡»åˆ—è¡¨ä¸­çš„åç§° â†’ è·³è½¬åˆ°è¯¦æƒ…é¡µæŸ¥çœ‹/ç¼–è¾‘æƒé‡æ•°æ®

  è¿™æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ä¼ä¸šçº§ CRUD åº”ç”¨çš„åˆ—è¡¨-è¯¦æƒ…é¡µé¢æ¨¡å¼ã€‚