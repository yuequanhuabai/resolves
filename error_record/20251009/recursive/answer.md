# äº‹ä»¶é©±åŠ¨ä¸çº¿ç¨‹æ¨¡å‹ï¼šå¹¶å‘ç¼–ç¨‹çš„æ€ç»´æ–¹å¼

## å¼•è¨€ï¼šä»å•çº¿ç¨‹åˆ°å¹¶å‘ä¸–ç•Œ

åœ¨å‰é¢çš„æ–‡æ¡£ä¸­ï¼Œæˆ‘ä»¬æ¢è®¨äº†ï¼š
- **é¢å‘è¿‡ç¨‹æ€ç»´**ï¼šä¸€æ­¥ä¸€æ­¥é¡ºåºæ‰§è¡Œï¼ˆå¾ªç¯éå†ï¼‰
- **é€’å½’æ€ç»´**ï¼šé—®é¢˜åˆ†è§£ä¸è‡ªæˆ‘è°ƒç”¨

ç°åœ¨ï¼Œè®©æˆ‘ä»¬è¿›å…¥ä¸€ä¸ªæ›´å¤æ‚çš„ä¸–ç•Œï¼š**å½“å¤šä¸ªä»»åŠ¡éœ€è¦åŒæ—¶å¤„ç†æ—¶ï¼Œè¯¥ç”¨ä»€ä¹ˆæ€ç»´æ–¹å¼ï¼Ÿ**

---

## ä¸€ã€å¹¶å‘ç¼–ç¨‹çš„æ ¸å¿ƒé—®é¢˜

### é—®é¢˜åœºæ™¯

**å•çº¿ç¨‹ä¸–ç•Œï¼ˆä½ å·²ç»ç†Ÿæ‚‰çš„ï¼‰ï¼š**
```java
// åšæ—©é¤
ç…®å’–å•¡();      // 5åˆ†é’Ÿ
çƒ¤é¢åŒ…();      // 3åˆ†é’Ÿ
ç…é¸¡è›‹();      // 4åˆ†é’Ÿ
// æ€»è€—æ—¶ï¼š5 + 3 + 4 = 12åˆ†é’Ÿ
```

ä¸€ä¸ªä¸€ä¸ªä»»åŠ¡åšï¼Œé¡ºåºæ‰§è¡Œã€‚

**ç°å®ä¸–ç•Œçš„æŒ‘æˆ˜ï¼š**
```
é—®é¢˜ï¼š12åˆ†é’Ÿå¤ªä¹…äº†ï¼èƒ½ä¸èƒ½åŒæ—¶åšï¼Ÿ
- å’–å•¡æœºåœ¨ç…®å’–å•¡æ—¶ï¼Œæˆ‘å¯ä»¥çƒ¤é¢åŒ…
- é¢åŒ…åœ¨çƒ¤æ—¶ï¼Œæˆ‘å¯ä»¥ç…é¸¡è›‹
ç†æƒ³è€—æ—¶ï¼šmax(5, 3, 4) = 5åˆ†é’Ÿ
```

è¿™å°±æ˜¯**å¹¶å‘**çš„éœ€æ±‚ï¼

### ä¸¤ç§è§£å†³æ€è·¯

#### æ€è·¯1ï¼šçº¿ç¨‹æ¨¡å‹ï¼ˆThread-basedï¼‰
```
æˆ‘é›‡ä½£å¤šä¸ªäººï¼ˆçº¿ç¨‹ï¼‰ï¼Œæ¯äººè´Ÿè´£ä¸€ä¸ªä»»åŠ¡
- çº¿ç¨‹Aï¼šç…®å’–å•¡
- çº¿ç¨‹Bï¼šçƒ¤é¢åŒ…
- çº¿ç¨‹Cï¼šç…é¸¡è›‹
ä»–ä»¬åŒæ—¶å·¥ä½œï¼Œäº’ä¸å¹²æ‰°
```

#### æ€è·¯2ï¼šäº‹ä»¶é©±åŠ¨ï¼ˆEvent-drivenï¼‰
```
æˆ‘ä¸€ä¸ªäººï¼ˆå•çº¿ç¨‹ï¼‰ï¼Œä½†æˆ‘å¾ˆèªæ˜ï¼š
1. å¯åŠ¨å’–å•¡æœºï¼Œè®¾ç½®å®šæ—¶å™¨ï¼ˆ5åˆ†é’Ÿåé€šçŸ¥æˆ‘ï¼‰
2. æŠŠé¢åŒ…æ”¾è¿›çƒ¤ç®±ï¼Œè®¾ç½®å®šæ—¶å™¨ï¼ˆ3åˆ†é’Ÿåé€šçŸ¥æˆ‘ï¼‰
3. å¼€å§‹ç…é¸¡è›‹ï¼ˆéœ€è¦æˆ‘æŒç»­çœ‹ç€ï¼‰
4. æ”¶åˆ°é€šçŸ¥æ—¶å¤„ç†å¯¹åº”çš„äº‹ä»¶
```

---

## äºŒã€çº¿ç¨‹æ¨¡å‹ï¼šå¤šäººåä½œçš„æ€ç»´

### æ ¸å¿ƒæ€æƒ³

**çº¿ç¨‹æ¨¡å‹ = å¤šä¸ªæ‰§è¡Œæµå¹¶è¡Œè¿è¡Œ**

å°±åƒä¸€ä¸ªå…¬å¸æœ‰å¤šä¸ªå‘˜å·¥ï¼Œæ¯äººè´Ÿè´£ä¸€ä»¶äº‹ï¼ŒåŒæ—¶å·¥ä½œã€‚

### æ€ç»´ç‰¹å¾

#### 1. ç©ºé—´åˆ†éš”ï¼ˆSpatial Separationï¼‰

**æ¦‚å¿µï¼š** æ¯ä¸ªçº¿ç¨‹æœ‰è‡ªå·±çš„æ‰§è¡Œè·¯å¾„

```java
// ä¸»çº¿ç¨‹
public static void main(String[] args) {
    // çº¿ç¨‹1ï¼šä¸‹è½½æ–‡ä»¶
    Thread t1 = new Thread(() -> {
        downloadFile("file1.zip");  // è·¯å¾„1
    });

    // çº¿ç¨‹2ï¼šå¤„ç†æ•°æ®
    Thread t2 = new Thread(() -> {
        processData();  // è·¯å¾„2
    });

    // çº¿ç¨‹3ï¼šæ›´æ–°UI
    Thread t3 = new Thread(() -> {
        updateUI();  // è·¯å¾„3
    });

    t1.start();
    t2.start();
    t3.start();
}
```

**æ€ç»´æ–¹å¼ï¼š**
```
æˆ‘æŠŠå¤§ä»»åŠ¡åˆ†æˆå°ä»»åŠ¡
æ¯ä¸ªä»»åŠ¡åˆ†é…ç»™ä¸€ä¸ª"å·¥äºº"ï¼ˆçº¿ç¨‹ï¼‰
è¿™äº›å·¥äººåŒæ—¶å¹²æ´»
```

#### 2. åŒæ­¥ä¸äº’æ–¥ï¼ˆSynchronizationï¼‰

**é—®é¢˜ï¼š** å¤šä¸ªçº¿ç¨‹å¯èƒ½è®¿é—®åŒä¸€ä¸ªèµ„æº

```java
// é“¶è¡Œè´¦æˆ·é—®é¢˜
class BankAccount {
    private int balance = 1000;

    // æ²¡æœ‰åŒæ­¥ï¼šé—®é¢˜ç‰ˆæœ¬
    public void withdraw(int amount) {
        if (balance >= amount) {
            // å‡è®¾è¿™é‡Œå‘ç”Ÿçº¿ç¨‹åˆ‡æ¢ï¼
            balance -= amount;
        }
    }
}

// åœºæ™¯ï¼š
// çº¿ç¨‹Aï¼šå–æ¬¾500
// çº¿ç¨‹Bï¼šå–æ¬¾600
// ä½™é¢1000ï¼Œä¸¤ä¸ªçº¿ç¨‹éƒ½é€šè¿‡äº† if (balance >= amount) æ£€æŸ¥
// ç»“æœï¼šä½™é¢å˜æˆ -100ï¼ï¼ˆé”™è¯¯ï¼‰
```

**è§£å†³ï¼šåŠ é”**
```java
// æ­£ç¡®ç‰ˆæœ¬
public synchronized void withdraw(int amount) {
    if (balance >= amount) {
        balance -= amount;
    }
}
// æˆ–è€…ç”¨ Lock
private final Lock lock = new ReentrantLock();

public void withdraw(int amount) {
    lock.lock();
    try {
        if (balance >= amount) {
            balance -= amount;
        }
    } finally {
        lock.unlock();
    }
}
```

**æ€ç»´æ–¹å¼ï¼š**
```
èµ„æºæ˜¯å…±äº«çš„ï¼ˆåŠå…¬å®¤çš„æ‰“å°æœºï¼‰
ä½¿ç”¨å‰è¦"ä¸Šé”"ï¼ˆç¡®ä¿ç‹¬å ï¼‰
ç”¨å®Œåè¦"è§£é”"ï¼ˆè®©åˆ«äººç”¨ï¼‰
```

#### 3. é˜»å¡ä¸ç­‰å¾…ï¼ˆBlockingï¼‰

**åœºæ™¯ï¼š** çº¿ç¨‹éœ€è¦ç­‰å¾…æŸä¸ªæ¡ä»¶

```java
// ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜
class Buffer {
    private Queue<Integer> queue = new LinkedList<>();
    private final int MAX_SIZE = 10;

    // ç”Ÿäº§è€…
    public synchronized void produce(int item) throws InterruptedException {
        while (queue.size() == MAX_SIZE) {
            wait();  // ç¼“å†²åŒºæ»¡äº†ï¼Œç­‰å¾…æ¶ˆè´¹è€…æ¶ˆè´¹
        }
        queue.offer(item);
        notifyAll();  // é€šçŸ¥æ¶ˆè´¹è€…
    }

    // æ¶ˆè´¹è€…
    public synchronized int consume() throws InterruptedException {
        while (queue.isEmpty()) {
            wait();  // ç¼“å†²åŒºç©ºäº†,ç­‰å¾…ç”Ÿäº§è€…ç”Ÿäº§
        }
        int item = queue.poll();
        notifyAll();  // é€šçŸ¥ç”Ÿäº§è€…
        return item;
    }
}
```

**æ€ç»´æ–¹å¼ï¼š**
```
æ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼Œçº¿ç¨‹"ç¡çœ "ï¼ˆä¸å ç”¨CPUï¼‰
æ¡ä»¶æ»¡è¶³æ—¶ï¼Œçº¿ç¨‹è¢«"å”¤é†’"ï¼ˆç»§ç»­æ‰§è¡Œï¼‰
ç±»ä¼¼ï¼šé¤å…ç­‰ä½ï¼Œå«å·æ—¶ä½ æ‰å»
```

---

### çº¿ç¨‹æ¨¡å‹çš„ä¼˜ç¼ºç‚¹

#### ä¼˜ç‚¹

**1. ç›´è§‚æ˜“æ‡‚**
```java
// æ¯ä¸ªä»»åŠ¡å°±æ˜¯ä¸€ä¸ªçº¿ç¨‹ï¼Œæ¸…æ™°æ˜äº†
Thread downloadThread = new Thread(() -> download());
Thread uploadThread = new Thread(() -> upload());
```

**2. åˆ©ç”¨å¤šæ ¸CPU**
```
4æ ¸CPU â†’ 4ä¸ªçº¿ç¨‹çœŸæ­£å¹¶è¡Œ
å……åˆ†åˆ©ç”¨ç¡¬ä»¶èµ„æº
```

**3. ç®€åŒ–å¤æ‚æµç¨‹**
```java
// ä¸éœ€è¦å¤æ‚çš„çŠ¶æ€æœº
while (true) {
    Task task = queue.take();  // é˜»å¡ç­‰å¾…
    process(task);
}
```

#### ç¼ºç‚¹

**1. èµ„æºå¼€é”€å¤§**
```
æ¯ä¸ªçº¿ç¨‹éœ€è¦ï¼š
- çº¿ç¨‹æ ˆç©ºé—´ï¼ˆ1MB+ï¼‰
- å†…æ ¸èµ„æºï¼ˆçº¿ç¨‹æ§åˆ¶å—ï¼‰
- ä¸Šä¸‹æ–‡åˆ‡æ¢æˆæœ¬

1000ä¸ªçº¿ç¨‹ = 1GB+ å†…å­˜
```

**2. åŒæ­¥å¤æ‚**
```java
// å®¹æ˜“å‡ºç°æ­»é”
Thread A: lock1.lock(); lock2.lock();  // Aç­‰B
Thread B: lock2.lock(); lock1.lock();  // Bç­‰A
// æ­»é”ï¼
```

**3. ç«æ€æ¡ä»¶**
```java
// éš¾ä»¥è°ƒè¯•çš„bug
if (map.containsKey(key)) {
    // è¿™é‡Œå¯èƒ½å…¶ä»–çº¿ç¨‹åˆ é™¤äº†keyï¼
    return map.get(key);  // å¯èƒ½è¿”å›null
}
```

**4. æ‰©å±•æ€§å·®**
```
10,000ä¸ªå¹¶å‘è¿æ¥ = 10,000ä¸ªçº¿ç¨‹ï¼Ÿ
æœåŠ¡å™¨å´©æºƒï¼
```

---

## ä¸‰ã€äº‹ä»¶é©±åŠ¨æ¨¡å‹ï¼šå•äººå¤šä»»åŠ¡çš„æ€ç»´

### æ ¸å¿ƒæ€æƒ³

**äº‹ä»¶é©±åŠ¨ = å•çº¿ç¨‹ + äº‹ä»¶å¾ªç¯ + å›è°ƒå‡½æ•°**

å°±åƒä¸€ä¸ªç§˜ä¹¦å¤„ç†å¤šä¸ªä»»åŠ¡ï¼šæ”¶åˆ°é€šçŸ¥æ—¶æ‰å¤„ç†ï¼Œä¸ç©ºç­‰ã€‚

### æ€ç»´ç‰¹å¾

#### 1. äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰

**æ ¸å¿ƒï¼š** ä¸€ä¸ªæ— é™å¾ªç¯ï¼Œä¸æ–­æ£€æŸ¥äº‹ä»¶é˜Ÿåˆ—

```javascript
// Node.js çš„äº‹ä»¶å¾ªç¯ï¼ˆä¼ªä»£ç ï¼‰
while (true) {
    // æ£€æŸ¥äº‹ä»¶é˜Ÿåˆ—
    Event event = eventQueue.poll();

    if (event != null) {
        // æ‰¾åˆ°å¯¹åº”çš„å›è°ƒå‡½æ•°
        Callback callback = event.getCallback();
        // æ‰§è¡Œå›è°ƒ
        callback.execute(event.getData());
    }

    // æ£€æŸ¥å®šæ—¶å™¨
    checkTimers();

    // æ£€æŸ¥ I/O æ“ä½œ
    checkIO();
}
```

**æ€ç»´æ–¹å¼ï¼š**
```
å°±åƒä¸€ä¸ªæœåŠ¡å‘˜ï¼š
1. çœ‹èœå•ï¼ˆæ£€æŸ¥äº‹ä»¶é˜Ÿåˆ—ï¼‰
2. æœ‰è®¢å•å°±å¤„ç†ï¼ˆæ‰§è¡Œå›è°ƒï¼‰
3. æ²¡è®¢å•å°±ç­‰å¾…ï¼ˆç»§ç»­å¾ªç¯ï¼‰
4. æ°¸ä¸åœæ­‡
```

#### 2. éé˜»å¡I/Oï¼ˆNon-blocking I/Oï¼‰

**å¯¹æ¯”ï¼šé˜»å¡ vs éé˜»å¡**

**é˜»å¡ï¼ˆä¼ ç»Ÿçº¿ç¨‹æ¨¡å‹ï¼‰ï¼š**
```java
// è¯»å–æ–‡ä»¶ï¼ˆé˜»å¡ï¼‰
String content = readFile("data.txt");  // ç­‰å¾…5ç§’
// è¿™5ç§’çº¿ç¨‹ä»€ä¹ˆéƒ½ä¸èƒ½åš
processContent(content);
```

**éé˜»å¡ï¼ˆäº‹ä»¶é©±åŠ¨ï¼‰ï¼š**
```javascript
// è¯»å–æ–‡ä»¶ï¼ˆéé˜»å¡ï¼‰
readFile("data.txt", (content) => {
    processContent(content);  // å›è°ƒå‡½æ•°
});
// ç«‹å³è¿”å›ï¼Œç»§ç»­æ‰§è¡Œä¸‹é¢çš„ä»£ç 
doOtherThings();  // ä¸éœ€è¦ç­‰å¾…
```

**æ€ç»´æ–¹å¼ï¼š**
```
é˜»å¡ï¼šæˆ‘ç‚¹äº†å’–å•¡ï¼Œç«™åœ¨æŸœå°ç­‰5åˆ†é’Ÿï¼ˆå•¥éƒ½ä¸å¹²ï¼‰
éé˜»å¡ï¼šæˆ‘ç‚¹äº†å’–å•¡ï¼Œç•™ä¸ªç”µè¯ï¼Œå»é€›è¡—ï¼ˆåšå…¶ä»–äº‹ï¼‰
         å’–å•¡å¥½äº†æ‰“ç”µè¯é€šçŸ¥æˆ‘ï¼ˆå›è°ƒï¼‰
```

#### 3. å›è°ƒå‡½æ•°ï¼ˆCallbackï¼‰

**å®šä¹‰ï¼š** äº‹ä»¶å‘ç”Ÿæ—¶è¦æ‰§è¡Œçš„å‡½æ•°

```javascript
// ç¤ºä¾‹1ï¼šå®šæ—¶å™¨
setTimeout(() => {
    console.log("3ç§’åæ‰§è¡Œ");  // å›è°ƒå‡½æ•°
}, 3000);

// ç¤ºä¾‹2ï¼šç½‘ç»œè¯·æ±‚
fetch("https://api.example.com/data")
    .then(response => response.json())  // å›è°ƒ1
    .then(data => {
        console.log(data);  // å›è°ƒ2
    })
    .catch(error => {
        console.error(error);  // å›è°ƒ3ï¼ˆé”™è¯¯å¤„ç†ï¼‰
    });

// ç¤ºä¾‹3ï¼šäº‹ä»¶ç›‘å¬
button.addEventListener("click", () => {
    console.log("æŒ‰é’®è¢«ç‚¹å‡»");  // å›è°ƒå‡½æ•°
});
```

**æ€ç»´æ–¹å¼ï¼š**
```
æˆ‘ä¸æ˜¯ä¸»åŠ¨ç­‰å¾…ï¼Œè€Œæ˜¯ç•™ä¸€ä¸ª"è”ç³»æ–¹å¼"
äº‹æƒ…å¥½äº†ï¼Œç³»ç»Ÿä¼š"é€šçŸ¥"æˆ‘
æˆ‘æä¾›çš„"é€šçŸ¥å¤„ç†é€»è¾‘"å°±æ˜¯å›è°ƒå‡½æ•°
```

---

### äº‹ä»¶é©±åŠ¨çš„å®Œæ•´ç¤ºä¾‹

**åœºæ™¯ï¼šWebæœåŠ¡å™¨å¤„ç†è¯·æ±‚**

```javascript
// Node.js æœåŠ¡å™¨ï¼ˆäº‹ä»¶é©±åŠ¨ï¼‰
const http = require('http');
const fs = require('fs');

const server = http.createServer((request, response) => {
    console.log("æ”¶åˆ°è¯·æ±‚:", request.url);

    // éé˜»å¡è¯»å–æ–‡ä»¶
    fs.readFile('./data.json', 'utf8', (err, data) => {
        if (err) {
            response.writeHead(500);
            response.end("Error");
            return;
        }

        // æ–‡ä»¶è¯»å–å®Œæˆï¼Œæ‰§è¡Œå›è°ƒ
        response.writeHead(200, {'Content-Type': 'application/json'});
        response.end(data);
    });

    console.log("ç»§ç»­å¤„ç†å…¶ä»–è¯·æ±‚ï¼ˆä¸ç­‰å¾…æ–‡ä»¶è¯»å–ï¼‰");
});

server.listen(3000);
console.log("æœåŠ¡å™¨å¯åŠ¨åœ¨ 3000 ç«¯å£");
```

**æ‰§è¡Œæµç¨‹ï¼š**
```
1. è¯·æ±‚1åˆ°è¾¾ â†’ å¼€å§‹è¯»æ–‡ä»¶1ï¼ˆéé˜»å¡ï¼‰â†’ ç»§ç»­
2. è¯·æ±‚2åˆ°è¾¾ â†’ å¼€å§‹è¯»æ–‡ä»¶2ï¼ˆéé˜»å¡ï¼‰â†’ ç»§ç»­
3. è¯·æ±‚3åˆ°è¾¾ â†’ å¼€å§‹è¯»æ–‡ä»¶3ï¼ˆéé˜»å¡ï¼‰â†’ ç»§ç»­
4. æ–‡ä»¶1è¯»å®Œ â†’ æ‰§è¡Œå›è°ƒ1 â†’ è¿”å›å“åº”1
5. æ–‡ä»¶3è¯»å®Œ â†’ æ‰§è¡Œå›è°ƒ3 â†’ è¿”å›å“åº”3
6. æ–‡ä»¶2è¯»å®Œ â†’ æ‰§è¡Œå›è°ƒ2 â†’ è¿”å›å“åº”2

å•çº¿ç¨‹å¤„ç†äº†3ä¸ªå¹¶å‘è¯·æ±‚ï¼
```

---

### äº‹ä»¶é©±åŠ¨çš„ä¼˜ç¼ºç‚¹

#### ä¼˜ç‚¹

**1. èµ„æºå ç”¨å°‘**
```
å•çº¿ç¨‹ = æ— ä¸Šä¸‹æ–‡åˆ‡æ¢
ä¸€ä¸ªçº¿ç¨‹å¤„ç†10,000ä¸ªè¿æ¥
Node.js/Nginx çš„ç§˜å¯†æ­¦å™¨
```

**2. æ— é”è®¾è®¡**
```javascript
// å•çº¿ç¨‹ï¼Œä¸éœ€è¦é”
let counter = 0;
counter++;  // å®‰å…¨ï¼Œä¸ä¼šæœ‰ç«æ€æ¡ä»¶
```

**3. é«˜å¹¶å‘æ€§èƒ½**
```
é€‚åˆ I/O å¯†é›†å‹åº”ç”¨ï¼š
- WebæœåŠ¡å™¨
- å®æ—¶èŠå¤©
- æ¸¸æˆæœåŠ¡å™¨
```

**4. ç®€åŒ–å¼€å‘**
```javascript
// ä¸éœ€è¦è€ƒè™‘çº¿ç¨‹å®‰å…¨
// ä»£ç æ˜¯çº¿æ€§çš„ï¼Œæ˜“äºç†è§£
```

#### ç¼ºç‚¹

**1. å›è°ƒåœ°ç‹±ï¼ˆCallback Hellï¼‰**
```javascript
// åµŒå¥—å›è°ƒï¼Œéš¾ä»¥ç»´æŠ¤
getData((data) => {
    processData(data, (result) => {
        saveData(result, (id) => {
            sendNotification(id, (status) => {
                logStatus(status, (log) => {
                    // ç»§ç»­åµŒå¥—...
                });
            });
        });
    });
});
```

è§£å†³æ–¹æ¡ˆï¼šPromiseã€async/await
```javascript
// ä½¿ç”¨ async/await
async function process() {
    const data = await getData();
    const result = await processData(data);
    const id = await saveData(result);
    const status = await sendNotification(id);
    const log = await logStatus(status);
}
```

**2. ä¸é€‚åˆCPUå¯†é›†å‹ä»»åŠ¡**
```javascript
// è®¡ç®—å¯†é›†å‹ä»»åŠ¡ä¼šé˜»å¡äº‹ä»¶å¾ªç¯
function fibonacci(n) {
    if (n <= 1) return n;
    return fibonacci(n-1) + fibonacci(n-2);
}

// è¿™ä¼šé˜»å¡æ•´ä¸ªæœåŠ¡å™¨ï¼
app.get('/fib', (req, res) => {
    const result = fibonacci(40);  // é˜»å¡æ•°ç§’
    res.send(result);
});

// è§£å†³ï¼šä½¿ç”¨ Worker Threads
const { Worker } = require('worker_threads');
app.get('/fib', (req, res) => {
    const worker = new Worker('./fib-worker.js');
    worker.on('message', (result) => {
        res.send(result);
    });
});
```

**3. é”™è¯¯å¤„ç†å¤æ‚**
```javascript
// å›è°ƒä¸­çš„é”™è¯¯ä¸ä¼šè¢«è‡ªåŠ¨æ•è·
try {
    fs.readFile('file.txt', (err, data) => {
        throw new Error("é”™è¯¯");  // è¿™ä¸ªé”™è¯¯ä¸ä¼šè¢« catch æ•è·ï¼
    });
} catch (e) {
    // æ°¸è¿œä¸ä¼šæ‰§è¡Œ
}

// å¿…é¡»åœ¨å›è°ƒå†…éƒ¨å¤„ç†
fs.readFile('file.txt', (err, data) => {
    if (err) {
        // æ‰‹åŠ¨å¤„ç†é”™è¯¯
        handleError(err);
        return;
    }
    // å¤„ç†æ•°æ®
});
```

**4. è°ƒè¯•å›°éš¾**
```javascript
// è°ƒç”¨æ ˆæ–­è£‚
function a() {
    setTimeout(() => {
        b();  // è°ƒç”¨æ ˆä¸­çœ‹ä¸åˆ° a()
    }, 1000);
}

function b() {
    throw new Error("é”™è¯¯");
    // é”™è¯¯å †æ ˆåªæ˜¾ç¤º b()ï¼Œçœ‹ä¸åˆ°æ˜¯è°è°ƒç”¨çš„
}
```

---

## å››ã€çº¿ç¨‹æ¨¡å‹ vs äº‹ä»¶é©±åŠ¨ï¼šå¯¹æ¯”åˆ†æ

### å¯¹æ¯”è¡¨æ ¼

| ç»´åº¦ | çº¿ç¨‹æ¨¡å‹ | äº‹ä»¶é©±åŠ¨ |
|------|----------|----------|
| **æ ¸å¿ƒæ€æƒ³** | å¤šä¸ªæ‰§è¡Œæµå¹¶è¡Œ | å•çº¿ç¨‹ + äº‹ä»¶å¾ªç¯ |
| **å¹¶å‘æ–¹å¼** | çœŸæ­£çš„å¹¶è¡Œï¼ˆå¤šæ ¸ï¼‰ | æ—¶é—´ç‰‡è½®è½¬ï¼ˆäº¤æ›¿æ‰§è¡Œï¼‰ |
| **èµ„æºå ç”¨** | é«˜ï¼ˆæ¯çº¿ç¨‹1MB+ï¼‰ | ä½ï¼ˆå•çº¿ç¨‹ï¼‰ |
| **é€‚ç”¨åœºæ™¯** | CPUå¯†é›†å‹ | I/Oå¯†é›†å‹ |
| **åŒæ­¥æœºåˆ¶** | é”ã€ä¿¡å·é‡ã€æ¡ä»¶å˜é‡ | æ— éœ€é”ï¼ˆå•çº¿ç¨‹ï¼‰ |
| **ç¼–ç¨‹éš¾åº¦** | ä¸­ç­‰ï¼ˆåŒæ­¥å¤æ‚ï¼‰ | é«˜ï¼ˆå›è°ƒåœ°ç‹±ï¼‰ |
| **è°ƒè¯•éš¾åº¦** | é«˜ï¼ˆç«æ€ã€æ­»é”ï¼‰ | é«˜ï¼ˆå¼‚æ­¥è°ƒç”¨æ ˆï¼‰ |
| **æ‰©å±•æ€§** | å·®ï¼ˆçº¿ç¨‹æ•°æœ‰é™ï¼‰ | å¥½ï¼ˆC10Ké—®é¢˜è§£å†³è€…ï¼‰ |
| **å…¸å‹åº”ç”¨** | åå°è®¡ç®—ã€å›¾åƒå¤„ç† | WebæœåŠ¡å™¨ã€å®æ—¶é€šä¿¡ |
| **ä»£è¡¨æŠ€æœ¯** | Java Threadã€pthread | Node.jsã€Nginxã€Redis |

---

### æ€ç»´æ–¹å¼å¯¹æ¯”

#### çº¿ç¨‹æ¨¡å‹æ€ç»´ï¼šåˆ†è€Œæ²»ä¹‹
```
é—®é¢˜ï¼šå¤„ç†1000ä¸ªè¯·æ±‚

æ€è·¯ï¼š
1. åˆ›å»ºçº¿ç¨‹æ± ï¼ˆ100ä¸ªçº¿ç¨‹ï¼‰
2. æ¯ä¸ªè¯·æ±‚åˆ†é…ä¸€ä¸ªçº¿ç¨‹
3. çº¿ç¨‹å¤„ç†è¯·æ±‚ï¼ˆå¯èƒ½é˜»å¡ï¼‰
4. å¤„ç†å®Œæˆï¼Œçº¿ç¨‹è¿”å›æ± ä¸­

ç±»æ¯”ï¼šé¤å…æœ‰100ä¸ªæœåŠ¡å‘˜ï¼Œæ¯äººæœåŠ¡ä¸€æ¡Œå®¢äºº
```

**ä»£ç ï¼š**
```java
// Java çº¿ç¨‹æ± 
ExecutorService executor = Executors.newFixedThreadPool(100);

for (Request request : requests) {
    executor.submit(() -> {
        // å¤„ç†è¯·æ±‚ï¼ˆé˜»å¡ä¹Ÿæ²¡å…³ç³»ï¼Œå…¶ä»–çº¿ç¨‹ç»§ç»­å·¥ä½œï¼‰
        String data = readFromDatabase(request);  // é˜»å¡
        process(data);
        sendResponse(request);
    });
}
```

---

#### äº‹ä»¶é©±åŠ¨æ€ç»´ï¼šè§ç¼æ’é’ˆ
```
é—®é¢˜ï¼šå¤„ç†1000ä¸ªè¯·æ±‚

æ€è·¯ï¼š
1. å•çº¿ç¨‹æ¥æ”¶æ‰€æœ‰è¯·æ±‚
2. å‘èµ·éé˜»å¡I/Oæ“ä½œ
3. ç»§ç»­æ¥æ”¶ä¸‹ä¸€ä¸ªè¯·æ±‚ï¼ˆä¸ç­‰å¾…ï¼‰
4. I/Oå®Œæˆæ—¶è§¦å‘å›è°ƒ
5. åœ¨å›è°ƒä¸­å¤„ç†æ•°æ®

ç±»æ¯”ï¼šé¤å…åªæœ‰1ä¸ªæœåŠ¡å‘˜ï¼Œç‚¹å®Œèœå°±å»æœåŠ¡ä¸‹ä¸€æ¡Œ
      å¨æˆ¿åšå¥½èœä¼šå«ä»–ï¼ˆå›è°ƒï¼‰
```

**ä»£ç ï¼š**
```javascript
// Node.js äº‹ä»¶é©±åŠ¨
requests.forEach(request => {
    // éé˜»å¡è¯»å–æ•°æ®åº“
    database.read(request.id, (data) => {
        // å›è°ƒï¼šæ•°æ®è¯»å–å®Œæˆ
        const result = process(data);
        sendResponse(request, result);
    });
    // ç«‹å³ç»§ç»­å¤„ç†ä¸‹ä¸€ä¸ªè¯·æ±‚
});
```

---

## äº”ã€æ··åˆæ¨¡å‹ï¼šå–é•¿è¡¥çŸ­

### ç°å®ä¸­çš„æ¶æ„

å¤§å¤šæ•°å¤æ‚ç³»ç»Ÿéƒ½æ˜¯**æ··åˆæ¨¡å‹**ï¼š

#### 1. çº¿ç¨‹æ±  + äº‹ä»¶é©±åŠ¨

**Java NIOï¼ˆNettyæ¡†æ¶ï¼‰ï¼š**
```java
// å°‘é‡çº¿ç¨‹ + äº‹ä»¶é©±åŠ¨
EventLoopGroup bossGroup = new NioEventLoopGroup(1);      // 1ä¸ªçº¿ç¨‹æ¥æ”¶è¿æ¥
EventLoopGroup workerGroup = new NioEventLoopGroup(4);    // 4ä¸ªçº¿ç¨‹å¤„ç†I/O

ServerBootstrap b = new ServerBootstrap();
b.group(bossGroup, workerGroup)
 .channel(NioServerSocketChannel.class)
 .childHandler(new ChannelInitializer<SocketChannel>() {
     @Override
     public void initChannel(SocketChannel ch) {
         ch.pipeline().addLast(new HttpServerHandler());  // äº‹ä»¶å¤„ç†å™¨
     }
 });
```

**æ€è·¯ï¼š**
```
- ä¸»çº¿ç¨‹ï¼šäº‹ä»¶å¾ªç¯ï¼Œæ¥æ”¶è¿æ¥ï¼ˆäº‹ä»¶é©±åŠ¨ï¼‰
- å·¥ä½œçº¿ç¨‹ï¼šäº‹ä»¶å¾ªç¯ï¼Œå¤„ç†I/Oï¼ˆäº‹ä»¶é©±åŠ¨ï¼‰
- ä¸šåŠ¡çº¿ç¨‹æ± ï¼šå¤„ç†CPUå¯†é›†ä»»åŠ¡ï¼ˆçº¿ç¨‹æ¨¡å‹ï¼‰
```

---

#### 2. Actoræ¨¡å‹ï¼ˆAkkaã€Erlangï¼‰

**æ ¸å¿ƒæ€æƒ³ï¼š** å°†çº¿ç¨‹å’Œäº‹ä»¶ç»“åˆ

```scala
// Akka Actor
class WorkerActor extends Actor {
    def receive = {
        case Task(data) =>
            // æ¯ä¸ªActoræœ‰è‡ªå·±çš„"é‚®ç®±"ï¼ˆäº‹ä»¶é˜Ÿåˆ—ï¼‰
            val result = process(data)
            sender() ! Result(result)

        case Stop =>
            context.stop(self)
    }
}

// åˆ›å»ºActor
val worker = system.actorOf(Props[WorkerActor])

// å‘é€æ¶ˆæ¯ï¼ˆäº‹ä»¶ï¼‰
worker ! Task(data)
```

**ç‰¹ç‚¹ï¼š**
```
- æ¯ä¸ªActoræ˜¯ä¸€ä¸ª"è½»é‡çº§çº¿ç¨‹"
- Actorä¹‹é—´é€šè¿‡æ¶ˆæ¯é€šä¿¡ï¼ˆäº‹ä»¶ï¼‰
- æ— å…±äº«çŠ¶æ€ï¼Œæ— é”è®¾è®¡
- å…¼å…·çº¿ç¨‹æ¨¡å‹çš„å¹¶è¡Œæ€§å’Œäº‹ä»¶é©±åŠ¨çš„ä½å¼€é”€
```

---

#### 3. åç¨‹ï¼ˆCoroutineï¼‰- Kotlinã€Go

**Goè¯­è¨€çš„ goroutineï¼š**
```go
// å¯åŠ¨åç¨‹ï¼ˆæ¯”çº¿ç¨‹è½»é‡ï¼‰
go func() {
    data := readFromDB()  // çœ‹èµ·æ¥æ˜¯é˜»å¡çš„
    process(data)
}()

go func() {
    result := calculate()
    sendResult(result)
}()

// 10,000 ä¸ª goroutine = å‡ åMBå†…å­˜
```

**åŸç†ï¼š**
```
- ç”¨æˆ·æ€è°ƒåº¦ï¼ˆä¸æ˜¯æ“ä½œç³»ç»Ÿçº¿ç¨‹ï¼‰
- é‡åˆ°I/Oè‡ªåŠ¨åˆ‡æ¢ï¼ˆäº‹ä»¶é©±åŠ¨çš„åº•å±‚ï¼‰
- ä»£ç å†™èµ·æ¥åƒçº¿ç¨‹ï¼ˆé˜»å¡é£æ ¼ï¼‰
- è¿è¡Œèµ·æ¥åƒäº‹ä»¶é©±åŠ¨ï¼ˆéé˜»å¡ï¼‰

æœ€ä½³çš„ä¸¤å…¨å…¶ç¾ï¼
```

---

## å…­ã€æ€ç»´æ–¹å¼æ€»ç»“

### 1. çº¿ç¨‹æ¨¡å‹æ€ç»´

**æ ¸å¿ƒï¼šç©ºé—´åˆ†éš”ï¼Œå¹¶è¡Œæ‰§è¡Œ**

```
å¿ƒæ™ºæ¨¡å‹ï¼š
- æˆ‘æœ‰å¤šä¸ª"åˆ†èº«"ï¼ˆçº¿ç¨‹ï¼‰
- æ¯ä¸ªåˆ†èº«ç‹¬ç«‹å·¥ä½œ
- éœ€è¦åè°ƒæ—¶é€šè¿‡"å¯¹è®²æœº"ï¼ˆé”ã€ä¿¡å·é‡ï¼‰

é€‚åˆåœºæ™¯ï¼š
- ä»»åŠ¡ç›¸å¯¹ç‹¬ç«‹
- éœ€è¦çœŸæ­£çš„å¹¶è¡Œè®¡ç®—
- å¯ä»¥æ¥å—çº¿ç¨‹å¼€é”€
```

**å…³é”®é—®é¢˜ï¼š**
```
1. å¦‚ä½•åˆ†è§£ä»»åŠ¡ï¼Ÿ
2. å¦‚ä½•åŒæ­¥æ•°æ®ï¼Ÿ
3. å¦‚ä½•é¿å…æ­»é”ï¼Ÿ
```

---

### 2. äº‹ä»¶é©±åŠ¨æ€ç»´

**æ ¸å¿ƒï¼šæ—¶é—´åˆ†éš”ï¼Œäº¤æ›¿æ‰§è¡Œ**

```
å¿ƒæ™ºæ¨¡å‹ï¼š
- æˆ‘åªæœ‰ä¸€ä¸ª"æˆ‘"ï¼ˆå•çº¿ç¨‹ï¼‰
- æˆ‘åŒæ—¶"è·Ÿè¸ª"å¤šä»¶äº‹
- äº‹æƒ…æœ‰è¿›å±•æ—¶æˆ‘æ”¶åˆ°"é€šçŸ¥"ï¼ˆäº‹ä»¶ï¼‰
- æˆ‘æ ¹æ®é€šçŸ¥é‡‡å–è¡ŒåŠ¨ï¼ˆå›è°ƒï¼‰

é€‚åˆåœºæ™¯ï¼š
- å¤§é‡I/Oç­‰å¾…
- é«˜å¹¶å‘è¿æ¥
- èµ„æºå—é™
```

**å…³é”®é—®é¢˜ï¼š**
```
1. ä»€ä¹ˆæ—¶å€™è§¦å‘äº‹ä»¶ï¼Ÿ
2. å¦‚ä½•ç®¡ç†å›è°ƒï¼Ÿ
3. å¦‚ä½•é¿å…é˜»å¡äº‹ä»¶å¾ªç¯ï¼Ÿ
```

---

### 3. æ€ç»´è½¬æ¢ç»ƒä¹ 

**åœºæ™¯ï¼šä¸‹è½½100ä¸ªæ–‡ä»¶**

**çº¿ç¨‹æ€ç»´ï¼š**
```java
ExecutorService pool = Executors.newFixedThreadPool(10);

for (String url : urls) {
    pool.submit(() -> {
        byte[] data = download(url);  // é˜»å¡ï¼Œä½†æœ‰å…¶ä»–çº¿ç¨‹å·¥ä½œ
        save(data);
    });
}

// æ€è·¯ï¼š10ä¸ªå·¥äººï¼Œæ¯äººä¸‹è½½10ä¸ªæ–‡ä»¶
```

**äº‹ä»¶é©±åŠ¨æ€ç»´ï¼š**
```javascript
urls.forEach(url => {
    download(url, (data) => {  // éé˜»å¡ï¼Œç«‹å³è¿”å›
        save(data, () => {
            console.log("å®Œæˆ");
        });
    });
});

// æ€è·¯ï¼š1ä¸ªäººï¼Œå‘èµ·100ä¸ªè¯·æ±‚ï¼Œå®Œæˆæ—¶æ”¶åˆ°é€šçŸ¥
```

**åç¨‹æ€ç»´ï¼ˆGoï¼‰ï¼š**
```go
for _, url := range urls {
    go func(u string) {
        data := download(u)  // çœ‹èµ·æ¥é˜»å¡ï¼Œå®é™…éé˜»å¡
        save(data)
    }(url)
}

// æ€è·¯ï¼š100ä¸ªè½»é‡çº§ä»»åŠ¡ï¼Œè¿è¡Œæ—¶è‡ªåŠ¨è°ƒåº¦
```

---

## ä¸ƒã€å®é™…åº”ç”¨æ¡ˆä¾‹

### æ¡ˆä¾‹1ï¼šWebæœåŠ¡å™¨

#### Apacheï¼ˆçº¿ç¨‹æ¨¡å‹ï¼‰
```
æ¯ä¸ªè¯·æ±‚ = ä¸€ä¸ªçº¿ç¨‹/è¿›ç¨‹
100å¹¶å‘ = 100ä¸ªçº¿ç¨‹
ä¼˜ç‚¹ï¼šç®€å•ã€ç¨³å®š
ç¼ºç‚¹ï¼šé«˜å¹¶å‘æ—¶èµ„æºè€—å°½
```

#### Nginxï¼ˆäº‹ä»¶é©±åŠ¨ï¼‰
```
å•çº¿ç¨‹ï¼ˆæˆ–å°‘é‡çº¿ç¨‹ï¼‰+ äº‹ä»¶å¾ªç¯
10,000å¹¶å‘ = 1ä¸ªçº¿ç¨‹
ä¼˜ç‚¹ï¼šé«˜å¹¶å‘ã€ä½èµ„æº
ç¼ºç‚¹ï¼šä¸é€‚åˆé•¿æ—¶é—´è®¡ç®—
```

---

### æ¡ˆä¾‹2ï¼šæ•°æ®åº“è¿æ¥æ± 

**ä¼ ç»Ÿæ–¹å¼ï¼ˆçº¿ç¨‹é˜»å¡ï¼‰ï¼š**
```java
// è·å–è¿æ¥ï¼ˆå¯èƒ½é˜»å¡ç­‰å¾…ï¼‰
Connection conn = pool.getConnection();  // é˜»å¡
ResultSet rs = conn.executeQuery("SELECT ...");  // é˜»å¡
// å¤„ç†ç»“æœ
conn.close();
```

**å¼‚æ­¥æ–¹å¼ï¼ˆäº‹ä»¶é©±åŠ¨ï¼‰ï¼š**
```javascript
// å¼‚æ­¥è·å–è¿æ¥
pool.getConnection((conn) => {
    conn.query("SELECT ...", (results) => {
        // å¤„ç†ç»“æœ
        conn.release();
    });
});
```

---

### æ¡ˆä¾‹3ï¼šå®æ—¶èŠå¤©åº”ç”¨

**éœ€æ±‚ï¼š**
```
- 10,000ä¸ªåœ¨çº¿ç”¨æˆ·
- ç”¨æˆ·å‘æ¶ˆæ¯ï¼Œå¹¿æ’­ç»™æ‰€æœ‰äºº
- éœ€è¦å®æ—¶æ€§
```

**çº¿ç¨‹æ¨¡å‹ï¼š**
```java
// 10,000ä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªç”¨æˆ·ä¸€ä¸ª
class UserThread extends Thread {
    public void run() {
        while (true) {
            Message msg = socket.read();  // é˜»å¡ç­‰å¾…
            broadcast(msg);
        }
    }
}

// é—®é¢˜ï¼š10,000ä¸ªçº¿ç¨‹ = 10GB+å†…å­˜
```

**äº‹ä»¶é©±åŠ¨ï¼š**
```javascript
// å•çº¿ç¨‹ + WebSocket
io.on('connection', (socket) => {
    socket.on('message', (msg) => {
        io.emit('broadcast', msg);  // å¹¿æ’­ç»™æ‰€æœ‰äºº
    });
});

// ä¼˜åŠ¿ï¼šå•çº¿ç¨‹å¤„ç†10,000ä¸ªè¿æ¥
```

---

## å…«ã€é€‰æ‹©æŒ‡å—

### ä½•æ—¶ç”¨çº¿ç¨‹æ¨¡å‹ï¼Ÿ

âœ… **CPUå¯†é›†å‹ä»»åŠ¡**
```java
// å›¾åƒå¤„ç†ã€è§†é¢‘ç¼–ç ã€ç§‘å­¦è®¡ç®—
ExecutorService pool = Executors.newFixedThreadPool(
    Runtime.getRuntime().availableProcessors()  // CPUæ ¸å¿ƒæ•°
);

for (Image img : images) {
    pool.submit(() -> processImage(img));  // å¹¶è¡Œå¤„ç†
}
```

âœ… **ä»»åŠ¡ç›¸å¯¹ç‹¬ç«‹**
```java
// æ‰¹é‡æ•°æ®å¤„ç†
for (Record record : records) {
    pool.submit(() -> {
        validate(record);
        transform(record);
        save(record);
    });
}
```

âœ… **éœ€è¦ç®€å•çš„é˜»å¡è¯­ä¹‰**
```java
// ä¼ ç»Ÿçš„è¯·æ±‚-å“åº”æ¨¡å¼
String result = remoteService.call();  // é˜»å¡ç­‰å¾…ï¼Œä»£ç ç®€å•
return result;
```

---

### ä½•æ—¶ç”¨äº‹ä»¶é©±åŠ¨ï¼Ÿ

âœ… **I/Oå¯†é›†å‹ä»»åŠ¡**
```javascript
// WebæœåŠ¡å™¨ã€APIç½‘å…³ã€ä»£ç†æœåŠ¡å™¨
app.get('/data', async (req, res) => {
    const data = await fetchFromDB();  // å¤§é‡ç­‰å¾…æ—¶é—´
    res.json(data);
});
```

âœ… **é«˜å¹¶å‘åœºæ™¯**
```javascript
// å®æ—¶é€šä¿¡ã€èŠå¤©ã€æ¸¸æˆæœåŠ¡å™¨
// 10,000+ å¹¶å‘è¿æ¥
```

âœ… **èµ„æºå—é™**
```javascript
// åµŒå…¥å¼ç³»ç»Ÿã€äº‘å‡½æ•°ï¼ˆå†…å­˜é™åˆ¶ï¼‰
// å•çº¿ç¨‹ï¼Œä½å†…å­˜å ç”¨
```

---

### ä½•æ—¶ç”¨æ··åˆæ¨¡å‹ï¼Ÿ

âœ… **å¤æ‚çš„ä¼ä¸šåº”ç”¨**
```java
// Nettyï¼šäº‹ä»¶é©±åŠ¨I/O + çº¿ç¨‹æ± å¤„ç†ä¸šåŠ¡
pipeline.addLast(eventLoopGroup, new HttpHandler());  // äº‹ä»¶é©±åŠ¨
pipeline.addLast(businessThreadPool, new BusinessHandler());  // çº¿ç¨‹æ± 
```

âœ… **éœ€è¦çµæ´»æ€§**
```
- I/Oæ“ä½œï¼šäº‹ä»¶é©±åŠ¨
- è®¡ç®—ä»»åŠ¡ï¼šçº¿ç¨‹æ± 
- æœ€ä½³çš„èµ„æºåˆ©ç”¨ç‡
```

---

## ä¹ã€æ€ç»´è¿›é˜¶ï¼šä»åŒæ­¥åˆ°å¼‚æ­¥

### æ€ç»´æ¼”è¿›è·¯å¾„

#### Level 1ï¼šé¡ºåºæ€ç»´ï¼ˆä½ æœ€ç†Ÿæ‚‰çš„ï¼‰
```java
String data = readFile();    // æ­¥éª¤1
String result = process(data);  // æ­¥éª¤2
save(result);                // æ­¥éª¤3
```

#### Level 2ï¼šå¹¶è¡Œæ€ç»´ï¼ˆçº¿ç¨‹æ¨¡å‹ï¼‰
```java
Future<String> f1 = pool.submit(() -> readFile());
Future<String> f2 = pool.submit(() -> readCache());
String data = f1.get();  // ç­‰å¾…
String cache = f2.get();
```

#### Level 3ï¼šå¼‚æ­¥æ€ç»´ï¼ˆäº‹ä»¶é©±åŠ¨ï¼‰
```javascript
readFile((data) => {
    process(data, (result) => {
        save(result, () => {
            console.log("å®Œæˆ");
        });
    });
});
```

#### Level 4ï¼šå“åº”å¼æ€ç»´ï¼ˆReactiveï¼‰
```java
// RxJava
Observable.fromCallable(() -> readFile())
    .map(data -> process(data))
    .flatMap(result -> save(result))
    .subscribe(
        success -> log("å®Œæˆ"),
        error -> log("é”™è¯¯")
    );
```

---

## åã€æ€»ç»“ï¼šä¸åŒæ€ç»´çš„æœ¬è´¨

### æ ¸å¿ƒå¯¹æ¯”

| æ€ç»´æ¨¡å¼ | æ ¸å¿ƒé—®é¢˜ | æ€è€ƒæ–¹å¼ |
|----------|----------|----------|
| **é¢å‘è¿‡ç¨‹** | æ€ä¹ˆåšï¼Ÿ | å®šä¹‰æ­¥éª¤ï¼Œé¡ºåºæ‰§è¡Œ |
| **é€’å½’** | æ˜¯ä»€ä¹ˆï¼Ÿ | å®šä¹‰å…³ç³»ï¼Œè‡ªæˆ‘è°ƒç”¨ |
| **çº¿ç¨‹æ¨¡å‹** | è°æ¥åšï¼Ÿ | åˆ†é…ä»»åŠ¡ï¼Œå¹¶è¡Œæ‰§è¡Œ |
| **äº‹ä»¶é©±åŠ¨** | ä»€ä¹ˆæ—¶å€™åšï¼Ÿ | æ³¨å†Œå›è°ƒï¼Œç­‰å¾…è§¦å‘ |

### ç»Ÿä¸€çš„è®¤çŸ¥

**æ‰€æœ‰è¿™äº›æ€ç»´æ–¹å¼éƒ½åœ¨è§£å†³åŒä¸€ä¸ªé—®é¢˜ï¼š**
```
å¦‚ä½•å°†äººç±»çš„æƒ³æ³•è½¬æ¢æˆæœºå™¨å¯ä»¥æ‰§è¡Œçš„æŒ‡ä»¤ï¼Ÿ
```

**ä¸åŒçš„æŠ½è±¡å±‚æ¬¡ï¼š**
```
é¢å‘è¿‡ç¨‹ï¼šæœ€æ¥è¿‘æœºå™¨ï¼ˆCPUæŒ‡ä»¤ï¼‰
çº¿ç¨‹æ¨¡å‹ï¼šæŠ½è±¡å‡º"å¹¶è¡Œ"æ¦‚å¿µ
äº‹ä»¶é©±åŠ¨ï¼šæŠ½è±¡å‡º"å¼‚æ­¥"æ¦‚å¿µ
å‡½æ•°å¼ï¼š  æŠ½è±¡å‡º"è½¬æ¢"æ¦‚å¿µ
```

### ä½ çš„å­¦ä¹ è·¯å¾„

ä½ å·²ç»æŒæ¡ï¼š
- âœ… é¢å‘è¿‡ç¨‹æ€ç»´ï¼ˆå¾ªç¯éå†ï¼‰
- âœ… é€’å½’æ€ç»´ï¼ˆé—®é¢˜åˆ†è§£ï¼‰

å»ºè®®æ¥ä¸‹æ¥ï¼š
1. **ç†è§£å¼‚æ­¥æ¦‚å¿µ**ï¼šPromiseã€async/await
2. **å®è·µäº‹ä»¶é©±åŠ¨**ï¼šå†™ä¸€ä¸ªç®€å•çš„ Node.js æœåŠ¡å™¨
3. **ä½“éªŒçº¿ç¨‹æ¨¡å‹**ï¼šJava å¤šçº¿ç¨‹ç¼–ç¨‹
4. **å¯¹æ¯”å·®å¼‚**ï¼šåŒä¸€ä¸ªé—®é¢˜ç”¨ä¸åŒæ¨¡å‹å®ç°

### æœ€ç»ˆç›®æ ‡

**æˆä¸º"å¤šè¯­è¨€"ç¨‹åºå‘˜ï¼š**
```
ä¸æ˜¯ä¼šå¤šç§ç¼–ç¨‹è¯­è¨€
è€Œæ˜¯ä¼šå¤šç§ç¼–ç¨‹æ€ç»´

é‡åˆ°é—®é¢˜æ—¶ï¼š
- åˆ†æé—®é¢˜ç‰¹ç‚¹
- é€‰æ‹©åˆé€‚çš„æ€ç»´æ¨¡å¼
- å†™å‡ºä¼˜é›…é«˜æ•ˆçš„ä»£ç 
```

---

## ç»“è¯­

**çº¿ç¨‹æ¨¡å‹å’Œäº‹ä»¶é©±åŠ¨ä¸æ˜¯å¯¹ç«‹çš„ï¼Œè€Œæ˜¯äº’è¡¥çš„ã€‚**

å°±åƒï¼š
- å¾ªç¯å’Œé€’å½’æ˜¯è§£å†³é‡å¤é—®é¢˜çš„ä¸¤ç§æ–¹å¼
- çº¿ç¨‹å’Œäº‹ä»¶æ˜¯è§£å†³å¹¶å‘é—®é¢˜çš„ä¸¤ç§æ–¹å¼

**çœŸæ­£çš„é«˜æ‰‹ï¼š**
- ç†è§£æ¯ç§æ¨¡å‹çš„æœ¬è´¨
- çŸ¥é“ä½•æ—¶ç”¨å“ªç§
- ç”šè‡³èƒ½æ··åˆä½¿ç”¨

**è®°ä½ï¼š**
```
æ²¡æœ‰æœ€å¥½çš„æ¨¡å‹ï¼Œåªæœ‰æœ€åˆé€‚çš„æ¨¡å‹
ç¼–ç¨‹æ€ç»´çš„å¤šæ ·æ€§ = è§£å†³é—®é¢˜çš„èƒ½åŠ›
```

ç»§ç»­æ¢ç´¢ï¼Œä¿æŒå¥½å¥‡ï¼ğŸš€

---

## é™„å½•ï¼šå¿«é€Ÿå‚è€ƒ

### ä»£ç æ¨¡æ¿å¯¹æ¯”

#### çº¿ç¨‹æ¨¡å‹æ¨¡æ¿
```java
ExecutorService pool = Executors.newFixedThreadPool(N);
for (Task task : tasks) {
    pool.submit(() -> {
        // å¤„ç†ä»»åŠ¡ï¼ˆå¯ä»¥é˜»å¡ï¼‰
    });
}
pool.shutdown();
```

#### äº‹ä»¶é©±åŠ¨æ¨¡æ¿
```javascript
function process(data, callback) {
    asyncOperation(data, (result) => {
        callback(result);
    });
}

// ä½¿ç”¨
process(data, (result) => {
    console.log(result);
});
```

#### æ··åˆæ¨¡å‹æ¨¡æ¿ï¼ˆJava CompletableFutureï¼‰
```java
CompletableFuture.supplyAsync(() -> {
    return fetchData();  // çº¿ç¨‹æ± æ‰§è¡Œ
}).thenApplyAsync(data -> {
    return process(data);  // çº¿ç¨‹æ± æ‰§è¡Œ
}).thenAccept(result -> {
    System.out.println(result);  // å›è°ƒ
});
```
