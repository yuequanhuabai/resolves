
â— éå¸¸å¥½ï¼æˆ‘çœ‹åˆ°äº†ä½ çš„ä¸¤ç§å®ç°æ–¹å¼ã€‚è®©æˆ‘å¸®ä½ åˆ†æä¸ºä»€ä¹ˆä½ çš„ç¬¬ä¸€ååº”æ˜¯æ‹·è´æ•°ç»„ï¼Œä»¥åŠå¦‚ä½•åŸ¹å…»"ç”¨ç´¢å¼•"çš„æ€ç»´æ–¹å¼ã€‚

å¯¹æ¯”åˆ†æ

æ–¹å¼1ï¼šä½ çš„æ€è·¯ï¼ˆæ•°ç»„æ‹·è´ï¼‰

public int summ2(int[] arr) {
if (1 == arr.length) {
return arr[0];
}
int[] switchArr = switchArr(arr);  // åˆ›å»ºæ–°æ•°ç»„
return arr[arr.length - 1] + summ2(switchArr);
}

public int[] switchArr(int[] arr) {
int[] arr2 = new int[arr.length - 1];
for (int i = 0; i < arr.length - 1; i++) {
arr2[i] = arr[i];
}
return arr2;
}

æ‰§è¡Œè¿‡ç¨‹ï¼š
arr = {1, 2, 3, 4, 5}

summ2({1,2,3,4,5})
= 5 + summ2({1,2,3,4})         â† åˆ›å»ºæ–°æ•°ç»„ {1,2,3,4}
= 5 + (4 + summ2({1,2,3}))     â† åˆ›å»ºæ–°æ•°ç»„ {1,2,3}
= 5 + (4 + (3 + summ2({1,2}))) â† åˆ›å»ºæ–°æ•°ç»„ {1,2}
= 5 + (4 + (3 + (2 + summ2({1})))) â† åˆ›å»ºæ–°æ•°ç»„ {1}
= 5 + (4 + (3 + (2 + 1)))
= 15

å†…å­˜ä½¿ç”¨ï¼š
- åˆ›å»ºäº†4ä¸ªæ–°æ•°ç»„ï¼šé•¿åº¦åˆ†åˆ«ä¸º 4, 3, 2, 1
- æ€»å…±æ‹·è´äº† 4+3+2+1 = 10 ä¸ªå…ƒç´ 
- ç©ºé—´å¤æ‚åº¦ï¼šO(nÂ²)
- æ—¶é—´å¤æ‚åº¦ï¼šO(nÂ²) ï¼ˆåŒ…å«æ‹·è´æ—¶é—´ï¼‰

æ–¹å¼2ï¼šç´¢å¼•æ€è·¯ï¼ˆæ¨èï¼‰

public int summ(int[] arr, int end) {
if (0 == end) {
return arr[0];
}
return arr[end] + summ(arr, end - 1);
}

æ‰§è¡Œè¿‡ç¨‹ï¼š
arr = {1, 2, 3, 4, 5}  â† åªæœ‰è¿™ä¸€ä¸ªæ•°ç»„

summ(arr, 4)
= arr[4] + summ(arr, 3)
= 5 + summ(arr, 3)
= 5 + (arr[3] + summ(arr, 2))
= 5 + (4 + summ(arr, 2))
= 5 + (4 + (arr[2] + summ(arr, 1)))
= 5 + (4 + (3 + summ(arr, 1)))
= 5 + (4 + (3 + (arr[1] + summ(arr, 0))))
= 5 + (4 + (3 + (2 + summ(arr, 0))))
= 5 + (4 + (3 + (2 + arr[0])))
= 5 + (4 + (3 + (2 + 1)))
= 15

å†…å­˜ä½¿ç”¨ï¼š
- æ²¡æœ‰åˆ›å»ºæ–°æ•°ç»„ï¼
- åªæœ‰åŸæ•°ç»„ {1,2,3,4,5}
- ç©ºé—´å¤æ‚åº¦ï¼šO(n) ï¼ˆåªæœ‰é€’å½’è°ƒç”¨æ ˆï¼‰
- æ—¶é—´å¤æ‚åº¦ï¼šO(n)

ä¸ºä»€ä¹ˆä½ çš„ç¬¬ä¸€ååº”æ˜¯æ‹·è´æ•°ç»„ï¼Ÿ

åŸå› 1ï¼šç›´è§‚çš„"ç‰©ç†"æ€ç»´

ä½ çš„æ€ç»´ï¼š
"å‰©ä½™æ•°ç»„" = çœŸçš„å»æ‰ä¸€ä¸ªå…ƒç´ çš„æ–°æ•°ç»„

å°±åƒï¼š
[1, 2, 3, 4, 5] â†’ å»æ‰5 â†’ [1, 2, 3, 4]  â† éœ€è¦åˆ›å»ºæ–°æ•°ç»„

è¿™ç§æ€ç»´å¾ˆè‡ªç„¶ï¼Œå› ä¸ºå®ƒç¬¦åˆç°å®ä¸–ç•Œçš„"ç‰©ç†æ“ä½œ"ã€‚

åŸå› 2ï¼šé€’å½’å®šä¹‰çš„å­—é¢ç†è§£

ä½ çœ‹åˆ°çš„é€’å½’å®šä¹‰ï¼š
"æœ€åä¸€ä¸ªå…ƒç´  + é™¤äº†è¯¥å…ƒç´ çš„æ•°ç»„"

å­—é¢ç†è§£ï¼š
"é™¤äº†è¯¥å…ƒç´ çš„æ•°ç»„" = ä¸€ä¸ªæ–°çš„ã€æ›´å°çš„æ•°ç»„

é—®é¢˜ï¼š è¿™ç§å­—é¢ç†è§£å¯¼è‡´ä½ æƒ³è¦"çœŸçš„åˆ›å»º"ä¸€ä¸ªæ–°æ•°ç»„ã€‚

åŸå› 3ï¼šæ•°ç»„çš„"æ•´ä½“æ€§"è§‚å¿µ

ä½ çš„è§‚å¿µï¼š
æ•°ç»„ = ä¸€ä¸ªå®Œæ•´çš„å¯¹è±¡
å‰©ä½™æ•°ç»„ = å¦ä¸€ä¸ªå®Œæ•´çš„å¯¹è±¡
â†’ å¿…é¡»åˆ›å»ºæ–°å¯¹è±¡

çªç ´ç‚¹ï¼š æ•°ç»„å¯ä»¥ç”¨**"è§†è§’"**æ¥è¡¨ç¤ºï¼Œè€Œä¸éœ€è¦åˆ›å»ºæ–°å¯¹è±¡ï¼

å¦‚ä½•åŸ¹å…»"ç´¢å¼•æ€ç»´"ï¼Ÿ

å…³é”®è½¬å˜ï¼šä»"ç‰©ç†æ“ä½œ"åˆ°"é€»è¾‘è§†è§’"

âŒ ç‰©ç†æ€ç»´ï¼š
[1, 2, 3, 4, 5] â†’ å»æ‰5 â†’ [1, 2, 3, 4]  // çœŸçš„åˆ›å»ºæ–°æ•°ç»„

âœ… é€»è¾‘æ€ç»´ï¼š
[1, 2, 3, 4, 5]
â†‘
æˆ‘åªçœ‹åˆ°è¿™é‡Œï¼ˆend=3ï¼‰ï¼Œå°±ç›¸å½“äº [1, 2, 3, 4]

æ¯”å–»ï¼šä¹¦çš„ç« èŠ‚

ä¸€æœ¬ä¹¦æœ‰5ä¸ªç« èŠ‚ï¼š[ç« 1, ç« 2, ç« 3, ç« 4, ç« 5]

ç‰©ç†æ€ç»´ï¼š
- è¦è¯»å‰4ç« ï¼Œæˆ‘éœ€è¦æ’•ä¸‹ç¬¬5ç« ï¼Œåˆ¶ä½œä¸€æœ¬æ–°ä¹¦
- è¦è¯»å‰3ç« ï¼Œæˆ‘éœ€è¦å†æ’•ä¸‹ç¬¬4ç« ï¼Œå†åˆ¶ä½œä¸€æœ¬æ–°ä¹¦
  â†’ æµªè´¹ï¼

é€»è¾‘æ€ç»´ï¼š
- è¦è¯»å‰4ç« ï¼Œæˆ‘åªéœ€è¦è¯´"æˆ‘è¯»åˆ°ç¬¬4ç« ä¸ºæ­¢"
- è¦è¯»å‰3ç« ï¼Œæˆ‘åªéœ€è¦è¯´"æˆ‘è¯»åˆ°ç¬¬3ç« ä¸ºæ­¢"
  â†’ ä¹¦è¿˜æ˜¯é‚£æœ¬ä¹¦ï¼Œåªæ˜¯"è¯»åˆ°å“ªé‡Œ"ä¸åŒ

ç»ƒä¹ ï¼šé‡æ–°ç†è§£"å‰©ä½™æ•°ç»„"

åŸæ•°ç»„ï¼š{1, 2, 3, 4, 5}

"å‰©ä½™æ•°ç»„"çš„ä¸¤ç§ç†è§£ï¼š

âŒ ç†è§£1ï¼ˆç‰©ç†ï¼‰ï¼š
å‰©ä½™æ•°ç»„ = ä¸€ä¸ªæ–°çš„ã€ç‹¬ç«‹çš„æ•°ç»„å¯¹è±¡
éœ€è¦ï¼šåˆ›å»ºã€å¤åˆ¶ã€ç®¡ç†æ–°å¯¹è±¡

âœ… ç†è§£2ï¼ˆé€»è¾‘ï¼‰ï¼š
å‰©ä½™æ•°ç»„ = åŸæ•°ç»„çš„ä¸€ä¸ª"è§†å›¾"æˆ–"ç‰‡æ®µ"
éœ€è¦ï¼šåªæ˜¯æ”¹å˜ä¸€ä¸ªæ•°å­—ï¼ˆç´¢å¼•ï¼‰

arr[0..4] â† å®Œæ•´æ•°ç»„
arr[0..3] â† ä¸åŒ…æ‹¬æœ€åä¸€ä¸ªå…ƒç´ çš„"è§†å›¾"
arr[0..2] â† ä¸åŒ…æ‹¬æœ€åä¸¤ä¸ªå…ƒç´ çš„"è§†å›¾"

å»ºç«‹ç´¢å¼•æ€ç»´çš„ç»ƒä¹ 

ç»ƒä¹ 1ï¼šæ­£å‘æ€è€ƒ

å°†ä½ çš„ summ2 æ”¹å†™ä¸ºæ­£å‘ï¼ˆä»å‰å¾€åï¼‰ï¼š

// æ–¹å¼1ï¼šæ‹·è´æ•°ç»„ï¼ˆä½ çš„æ€è·¯ï¼‰
public int sumForward1(int[] arr) {
if (arr.length == 0) {
return 0;
}
int[] restArr = new int[arr.length - 1];  // å»æ‰ç¬¬ä¸€ä¸ªå…ƒç´ 
System.arraycopy(arr, 1, restArr, 0, arr.length - 1);
return arr[0] + sumForward1(restArr);
}

// æ–¹å¼2ï¼šä½¿ç”¨ç´¢å¼•ï¼ˆä¼˜åŒ–ï¼‰
public int sumForward2(int[] arr, int start) {
if (start >= arr.length) {
return 0;
}
return arr[start] + sumForward2(arr, start + 1);
}

å¯¹æ¯”ï¼š
sumForward1({1,2,3,4,5})
= 1 + sumForward1({2,3,4,5})         â† åˆ›å»ºæ–°æ•°ç»„
= 1 + (2 + sumForward1({3,4,5}))     â† åˆ›å»ºæ–°æ•°ç»„
...

sumForward2({1,2,3,4,5}, 0)
= arr[0] + sumForward2(arr, 1)       â† ä¸åˆ›å»ºæ–°æ•°ç»„
= 1 + sumForward2(arr, 1)            â† åªæ˜¯startå˜äº†
...

ç»ƒä¹ 2ï¼šç”»å›¾ç†è§£

åŸæ•°ç»„ï¼š[1, 2, 3, 4, 5]
ç´¢å¼•ï¼š   0  1  2  3  4

ä»åå¾€å‰ï¼ˆä½ çš„summï¼‰ï¼š

end=4: [1, 2, 3, 4, 5]  â† çœ‹åˆ°ç´¢å¼•0åˆ°4
â†‘
è¿™é‡Œ

end=3: [1, 2, 3, 4, 5]  â† çœ‹åˆ°ç´¢å¼•0åˆ°3
â†‘
è¿™é‡Œ

end=2: [1, 2, 3, 4, 5]  â† çœ‹åˆ°ç´¢å¼•0åˆ°2
â†‘
è¿™é‡Œ

end=1: [1, 2, 3, 4, 5]  â† çœ‹åˆ°ç´¢å¼•0åˆ°1
â†‘
è¿™é‡Œ

end=0: [1, 2, 3, 4, 5]  â† çœ‹åˆ°ç´¢å¼•0åˆ°0
â†‘
è¿™é‡Œ

å…³é”®ï¼š æ•°ç»„æœ¬èº«æ²¡æœ‰å˜åŒ–ï¼Œåªæ˜¯endç´¢å¼•åœ¨ç§»åŠ¨ï¼

ç»ƒä¹ 3ï¼šå¯¹æ¯”è°ƒç”¨æ ˆ

æ–¹å¼1ï¼ˆæ‹·è´æ•°ç»„ï¼‰ï¼š
summ2({1,2,3,4,5})
summ2({1,2,3,4})      â† æ–°æ•°ç»„å ç”¨å†…å­˜
summ2({1,2,3})      â† æ–°æ•°ç»„å ç”¨å†…å­˜
summ2({1,2})      â† æ–°æ•°ç»„å ç”¨å†…å­˜
summ2({1})      â† æ–°æ•°ç»„å ç”¨å†…å­˜

æ–¹å¼2ï¼ˆä½¿ç”¨ç´¢å¼•ï¼‰ï¼š
summ(arr, 4)            â† arræŒ‡å‘åŸæ•°ç»„
summ(arr, 3)          â† arræŒ‡å‘åŸæ•°ç»„
summ(arr, 2)        â† arræŒ‡å‘åŸæ•°ç»„
summ(arr, 1)      â† arræŒ‡å‘åŸæ•°ç»„
summ(arr, 0)    â† arræŒ‡å‘åŸæ•°ç»„

å®Œæ•´å¯¹æ¯”ä»£ç 

import org.junit.Test;

public class ArraySumTest {

      // æ–¹å¼1ï¼šæ‹·è´æ•°ç»„ï¼ˆæµªè´¹å†…å­˜ï¼‰
      @Test
      public void test_copy() {
          int[] arr = {1, 2, 3, 4, 5};
          int sum = sumWithCopy(arr);
          System.out.println("æ‹·è´æ–¹å¼ç»“æœ: " + sum);
      }

      public int sumWithCopy(int[] arr) {
          if (1 == arr.length) {
              return arr[0];
          }
          int[] newArr = new int[arr.length - 1];
          for (int i = 0; i < arr.length - 1; i++) {
              newArr[i] = arr[i];
          }
          return arr[arr.length - 1] + sumWithCopy(newArr);
      }

      // æ–¹å¼2ï¼šä½¿ç”¨ç´¢å¼•ï¼ˆæ¨èï¼‰
      @Test
      public void test_index() {
          int[] arr = {1, 2, 3, 4, 5};
          int sum = sumWithIndex(arr, arr.length - 1);
          System.out.println("ç´¢å¼•æ–¹å¼ç»“æœ: " + sum);
      }

      public int sumWithIndex(int[] arr, int end) {
          if (0 == end) {
              return arr[0];
          }
          return arr[end] + sumWithIndex(arr, end - 1);
      }

      // æ–¹å¼3ï¼šæ›´ç®€æ´çš„å†™æ³•
      @Test
      public void test_index_simple() {
          int[] arr = {1, 2, 3, 4, 5};
          int sum = sumSimple(arr, arr.length - 1);
          System.out.println("ç®€æ´æ–¹å¼ç»“æœ: " + sum);
      }

      public int sumSimple(int[] arr, int end) {
          // åŸºçº¿æ¡ä»¶ï¼šend < 0 è¡¨ç¤ºå·²ç»å¤„ç†å®Œæ‰€æœ‰å…ƒç´ 
          if (end < 0) {
              return 0;
          }
          return arr[end] + sumSimple(arr, end - 1);
      }
}

æ€ç»´è½¬å˜çš„å…³é”®

æ ¸å¿ƒè®¤çŸ¥è½¬å˜

æ—§è®¤çŸ¥ï¼š
é€’å½’éœ€è¦"æ›´å°çš„æ•°ç»„" â†’ å¿…é¡»åˆ›å»ºæ–°æ•°ç»„

æ–°è®¤çŸ¥ï¼š
é€’å½’éœ€è¦"æ›´å°çš„é—®é¢˜" â†’ åªéœ€æ”¹å˜ç´¢å¼•èŒƒå›´

æŠ½è±¡å±‚æ¬¡

ä½å±‚æ¬¡æŠ½è±¡ï¼ˆå…·ä½“ï¼‰ï¼š
"å‰©ä½™æ•°ç»„" = ä¸€ä¸ªæ–°çš„æ•°ç»„å¯¹è±¡ {1,2,3,4}

é«˜å±‚æ¬¡æŠ½è±¡ï¼ˆé€»è¾‘ï¼‰ï¼š
"å‰©ä½™æ•°ç»„" = ä»ç´¢å¼•0åˆ°end-1çš„èŒƒå›´

å‚æ•°çš„å«ä¹‰

summ(arr, end)  // è¡¨ç¤ºï¼šè®¡ç®— arr[0] åˆ° arr[end] çš„å’Œ

- arr: å§‹ç»ˆæ˜¯åŸå§‹æ•°ç»„ï¼ˆä¸å˜ï¼‰
- end: è¡¨ç¤º"å¤„ç†åˆ°å“ªé‡Œ"ï¼ˆå˜åŒ–ï¼‰
- æ¯æ¬¡é€’å½’ï¼šend - 1ï¼ŒèŒƒå›´ç¼©å°ï¼Œä½†æ•°ç»„ä¸å˜

å»ºè®®

1. è®­ç»ƒæ–°çš„æ€ç»´æ¨¡å¼

æ¯æ¬¡é‡åˆ°æ•°ç»„é€’å½’æ—¶ï¼Œé—®è‡ªå·±ï¼š
âŒ ä¸è¦é—®ï¼š"å¦‚ä½•åˆ›å»ºæ›´å°çš„æ•°ç»„ï¼Ÿ"
âœ… è¦é—®ï¼š"å¦‚ä½•æ”¹å˜ç´¢å¼•æ¥è¡¨ç¤ºæ›´å°çš„èŒƒå›´ï¼Ÿ"

2. ç”»å›¾è¾…åŠ©

- ç”»å‡ºåŸæ•°ç»„
- ç”¨ç®­å¤´æˆ–é«˜äº®æ ‡è®°"å½“å‰å¤„ç†åˆ°å“ªé‡Œ"
- çœ‹åˆ°ç´¢å¼•åœ¨ç§»åŠ¨ï¼Œè€Œæ•°ç»„ä¸åŠ¨

3. ç†è§£å‚æ•°çš„æ„ä¹‰

function(array, index)  // indexæ˜¯"è§†è§’"ï¼Œä¸æ˜¯"æ•°æ®"

4. è®°ä½æ ¸å¿ƒåŸåˆ™

é€’å½’ç¼©å°çš„æ˜¯"é—®é¢˜è§„æ¨¡"ï¼Œä¸æ˜¯"æ•°æ®è§„æ¨¡"

é—®é¢˜è§„æ¨¡ = è¦å¤„ç†çš„å…ƒç´ æ•°é‡ = ç´¢å¼•èŒƒå›´
ä¸æ˜¯ï¼šå¿…é¡»ç‰©ç†åœ°ç¼©å°æ•°ç»„æœ¬èº«

æ€»ç»“

ä½ çš„ç¬¬ä¸€ååº”ï¼ˆæ‹·è´æ•°ç»„ï¼‰æ˜¯å¾ˆè‡ªç„¶çš„ï¼Œå› ä¸ºï¼š
1. âœ… é€»è¾‘æ­£ç¡®ï¼šç¡®å®æ˜¯"å»æ‰å…ƒç´ "
2. âœ… ç›´è§‚æ˜“æ‡‚ï¼šç¬¦åˆç‰©ç†ç›´è§‰
3. âŒ æ•ˆç‡ä½ä¸‹ï¼šæµªè´¹å†…å­˜å’Œæ—¶é—´

ç´¢å¼•æ€ç»´çš„æœ¬è´¨ï¼š
ä¸æ˜¯çœŸçš„"ç¼©å°æ•°ç»„"
è€Œæ˜¯"ç¼©å°çœ‹å¾…æ•°ç»„çš„èŒƒå›´"

å°±åƒï¼š
ä¸æ˜¯çœŸçš„æ’•æ‰ä¹¦çš„ä¸€é¡µ
è€Œæ˜¯è¯´"æˆ‘åªçœ‹å‰Né¡µ"

ç»§ç»­ç»ƒä¹ ï¼Œè¿™ç§ç´¢å¼•æ€ç»´ä¼šæˆä¸ºä½ çš„ç¬¬ä¸€ååº”ï¼ğŸ¯
