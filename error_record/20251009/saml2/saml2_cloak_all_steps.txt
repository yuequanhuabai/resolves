前提：先用docker  keycloak;
用令：

docker run -p 8180:8080 -e KEYCLOAK_ADMIN=admin -e KEYCLOAK_ADMIN_PASSWORD=admin quay.io/keycloak/keycloak:latest start-dev

/存，不然下面的步E需要在每次拥r候重新建;
docker run -p 8180:8080 -e KEYCLOAK_ADMIN=admin -e KEYCLOAK_ADMIN_PASSWORD=admin -v keycloak_data:/opt/keycloak/data quay.io/keycloak/keycloak:latest start-dev

登url: http://localhost:8180
入ぬ密a： admin/admin


  步骤一：创建 Realm

  左侧菜单上方下拉框（显示 "master"）
  → Create realm
  → Realm name: saml-demo
  → Create

  步骤二：创建 SAML2 Client

  左侧菜单 → Clients → Create client

  1. Client type: SAML
     Client ID: https://localhost:8080/saml2/metadata/keycloak
     → Next

  2. 配置页面填写：
     Root URL: https://localhost:8080
     Home URL: https://localhost:8080
     Valid redirect URIs: https://localhost:8080/*
     → Save

  步骤三：配置 Client 详细设置

  创建后进入 Client 详情页，确认以下配置：

  Settings 标签页：
  - Name ID format: email
  - Force name ID format: ON
  - Sign assertions: ON

  步骤四：创建测试用户

  左侧菜单 → Users → Add user
  - Username: testuser
  - Email: test@test.com
  - First name: Test
  - Last name: User
  → Create

  创建后 → Credentials 标签页
  → Set password
  - Password: test123
  - Temporary: OFF
  → Save

  步骤五：获取 IdP 元数据

  左侧菜单 → Realm settings → General 标签页
  → 找到 "Endpoints" 部分
  → 点击 "SAML 2.0 Identity Provider Metadata" 链接
  → 保存为 keycloak-saml-metadata.xml

  //生成後放在resource目下，改keycloak-saml-metadata.xml
  如果有}的，需要入C：
登url: http://localhost:8180
入ぬ密a： admin/admin
c糇鹊Clients
-->Clients list（x中我自己建的client）
--->cKey （下拉到Certificate，cImport key，Archive formatx Certificate PEM，把本地的saml-signing.crt上魃先ィ

